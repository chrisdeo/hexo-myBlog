---
title: 日常心得手记
date: 2019-11-14 22:04:16
tags:
  - 碎片化记忆
  - 总结
---

> &emsp;在日常的自我提升过程中，总会有些碎片化的知识点在经过一段时间的积累和沉淀后才能汇总出一个系统的方法论。固有此文不定期更新，专门用于汇总结论。

<escape><!-- more --></escape>

1. `husky`提供了开发者更易介入`git hooks`的能力。我们主要在其中两个`hooks`阶段操作：`pre-commit`内进行`ESLint`校验，发生错误会输出并退出`git`流程；`commit-msg`配合`git-cz`进行规范化的提交`message`模板配置。但是要是有人使用`-n`这个参数就会直接跳过校验`lint`的步骤...所以归根到底这种限制还是一种**弱约束**。真想严格统一上传代码的格式可以使用CI流程中的GIT HOOKS（区分于前面的`git flow`，是一种自动化部署的流程）触发。

2. 我们声明的`function`其实等价于`Function`构造的实例，所以如`function Person(){}`有`Person.__proto__ === Function.prototype`为`true`。

3. 一个`async function`在`EL`中的执行顺序可以理解成：在内部的`await`等到返回值前的代码块为`Promise`中的声明块，是同步的。`await`进行函数调用时，可以理解为一个`Promise.resolve()`，其中若是函数，没有`return`前的内容也是同步执行的。最后`return`的内容和`await`后的内容等价于`resolve`后`then`方法对应的回调（micro task）。